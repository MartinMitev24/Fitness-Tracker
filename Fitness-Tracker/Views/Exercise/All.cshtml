@using Fitness_Tracker.Infrastructure.Data.Models
@model List<ExerciseViewModel>

@{
    ViewBag.Title = "All Exercises";
}
<div class="container text-center">

    <div class="container text-center">
        <div class="row row-cols-3">
            <div class="col-3"></div>
            <div class="col-6">
                <h2 class="text-center col">@ViewBag.Title</h2>
            </div>
            <div class="col-3">
                @* @if (SignInManager.IsSignedIn(user))
                {
                    <a class="btn btn-light btn-outline-primary" asp-controller="request" asp-action="addexercise">request new exercise</a>
                } *@
            </div>
        </div>
        <hr />
    </div>

    @foreach (var muscleGroup in Enum.GetNames(typeof(TargetMuscleGroup)))
    {
        <div class="container text-start">
            <h3>@muscleGroup.ToString()</h3>
        </div>
        @if(!Model.Any())
        {
            <p><strong>No exercises yet!</strong></p>
        }
        else
        {
            <div class="container flex-row">
                <div class="row row-cols-2">
                    @foreach (var item in Model)
                    {
                        @if (item.TargetMuscleGroup.ToString() == muscleGroup.ToString())
                        {
                            <div class="card-group border-0 p-lg-1">
                                <div class="card border-secondary border-2">
                                    <div class="row g-0">
                                        <div class="col-md-7 p-1">
                                            <div class="card-header bg-light border-secondary" style="max-height: 20%">
                                                <h4>@item.ExerciseName</h4>
                                            </div>
                                            <div class="card-body text-dark" style="min-height: 60%">
                                                <p class="card-text text-truncate text-break">@item.ExerciseDescription</p>
                                            </div>
                                            <div class="card-footer bg-primary border-secondary" style="min-height: 15%">
                                                <div class="d-grid justify-content-around p-0">
                                                    <div class="btn-toolbar gap-lg-5" role="toolbar" aria-label="Toolbar with button groups">
                                                        <div>
                                                            <a class="btn btn-sm btn-outline-dark bg-info bg-opacity-75" asp-controller="Exercise" asp-action="Details" asp-route-id="@item.Id" asp-route-information="">Details</a>
                                                        </div>
                                                        <div>
                                                            <a class="btn btn-sm btn-outline-dark bg-warning bg-opacity-75" asp-controller="Exercise" asp-action="Edit" asp-route-id="@item.Id" asp-route-information="">Request Edit</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-5 p-1">
                                            <svg class="object-fit-cover border rounded" width="100%" height="250" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Image" preserveAspectRatio="xMidYMid slice" focusable="false">
                                                <title>Placeholder</title>
                                                <rect width="100%" height="100%" fill="#868e96"></rect>
                                                <text x="50%" y="50%" fill="#dee2e6" dy=".3em">Image</text>
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    }
                </div>
            </div>
        }
    }
</div>